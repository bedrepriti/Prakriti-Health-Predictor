<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prakriti Health Predictor</title>

  <!-- ===================== CSS ===================== -->
  <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Secular+One&family=Ubuntu:ital,wght@0,400;1,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-routing-machine/dist/leaflet-routing-machine.css" />

  <!-- ===================== JS ===================== -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
</head>

<body>
  <!-- ===================== BACKGROUND & TITLE ===================== -->
  <div id="background-overlay">
    <div id="title-overlay">Prakriti Health Predictor</div>

    <!-- ===================== CENTER CARD ===================== -->
    <div id="center">

      <!-- Headings for multi-step form -->
      <div id="heads" style="display:none">
        <h2 id="form1Heading">Patient</h2>
        <h2 id="form2Heading">Symptoms</h2>
        <h2 id="form3Heading">Disease</h2>
        <h2 id="form4Heading">Medication</h2>
      </div>

      <!-- ===================== FORM ===================== -->
      <div class="upper-section">
        <form id="myForm" name="myform">

          <!-- Step 0: Welcome & Terms -->
          <div id="form0Container">
            <div id="open0"><h2>WELCOME</h2></div>
            <div id="open1">
              Before using our application, please read carefully and accept our Terms and Services:
            </div>
            <div id="open2">
              <ul>
                <li><b>Non-Diagnostic Nature</b>: Informational checkup only, not a medical diagnosis.</li>
                <li><b>Not a Qualified Medical Opinion</b>: Results do not replace professional medical advice.</li>
                <li><b>Anonymous Information</b>: No personal data is stored on our servers.</li>
                <li><b>Secondary Option</b>: Consider this as supplementary; consult a professional for thorough evaluation.</li>
                <li><b>Acknowledging Associated Risks</b>: Use the checkup with caution in medical decision-making.</li>
              </ul>
            </div>
            <div id="open3">
              <label for="t-c" style="font-family: 'Ubuntu', sans-serif; font-weight: bolder;">
                I hereby agree to the Terms and Conditions
              </label>
              <input type="checkbox" id="t-c" required />
            </div>
          </div>

          <!-- Step 1-4: Forms -->
          <div id="form1Container" class="formContainer"></div>
          <div id="form2Container" class="formContainer"></div>
          <div id="form3Container" class="formContainer"></div>
          <div id="form4Container" class="formContainer"></div>
        </form>
      </div>

      <!-- ===================== LOWER BUTTONS ===================== -->
      <div class="lower-section" id="downbuttons">
        <button type="button" id="backbtn" class="btn" onclick="prevForm()" disabled>Back</button>
        <button type="button" id="t-c-submit" class="btn" onclick="nextForm()" disabled>Next</button>
      </div>
    </div>
  </div>

  <!-- ===================== FLOATING LOCATION BUTTON ===================== -->
  <div class="round-div">
    <img src="/static/images/location.png" style="height: 30px;">
  </div>

  <!-- ===================== LOCATE HOSPITAL FORM ===================== -->
  <div id="locate-hospital" class="rectangle-form">
    <!-- Hospital location content goes here -->
  </div>

  <!-- ===================== CUSTOM SCRIPT ===================== -->
  <script>
    // Location input toggle
    const liveLocationRadio = document.getElementById('liveLocation');
    const writtenLocationRadio = document.getElementById('writtenLocation');
    const locationInput = document.getElementById('locationInput');

    if(liveLocationRadio && writtenLocationRadio && locationInput){
      liveLocationRadio.addEventListener('change', () => locationInput.disabled = true);
      writtenLocationRadio.addEventListener('change', () => locationInput.disabled = false);
    }

    // Hospital range slider
    const hospitalRange = document.getElementById('hospitalRange');
    const hospitalValue = document.getElementById('hospitalValue');

    if(hospitalRange && hospitalValue){
      hospitalRange.addEventListener('input', () => hospitalValue.textContent = hospitalRange.value);
    }
  </script>

  <!-- ===================== MAIN JS ===================== -->
  <script src="{{ url_for('static', filename='index.js') }}"></script>
</body>
</html>
